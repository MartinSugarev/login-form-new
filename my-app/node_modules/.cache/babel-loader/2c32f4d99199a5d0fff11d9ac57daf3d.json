{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/new-login-form/my-app/src/components/home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport LogOut from './logout';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n\n  const isloggedIn = useSelector(state => state.isLoggedIn);\n  const history = useHistory();\n  const [name, SetName] = useState(\"\");\n  const [email, SetEmail] = useState(\"\");\n  const [password, SetPassword] = useState(\"\");\n  const [dataBackend, setDataBackend] = useState(\"\");\n  const [test, setTest] = useState(false);\n  const [userName, setUserName] = useState('');\n  const [img, SetImg] = useState(null);\n  const [downloadedImages, SetDownloadedImages] = useState([]);\n  const dispatch = useDispatch();\n  axios.defaults.withCredentials = true;\n\n  const sendData = () => {\n    return {\n      type: 'logged in'\n    };\n  };\n\n  useEffect(() => {\n    const ifLoggedCheck = async () => {\n      try {\n        await axios.get('http://localhost:4000').then(res => {\n          if (res.data.msg === 'logged in') {\n            // setTest(test => !test)\n            dispatch(sendData());\n            setUserName(res.data.name);\n            SetDownloadedImages(res.data.message[0].children);\n          } else {\n            /// setTest(test => !test)\n            dispatch(() => {\n              return {\n                type: 'not logged in'\n              };\n            });\n            setUserName(res.data.name);\n          }\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    ifLoggedCheck();\n  });\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      await axios.post('http://localhost:4000', {\n        name,\n        email,\n        password\n      }).then(res => {\n        if (res.data.msg === 'this email is already used!') {\n          alert('This email is already used!');\n          return;\n        }\n\n        setDataBackend(res.data.msg);\n        setUserName(res.data.userName);\n        setTest(test => !test);\n        dispatch(sendData());\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleClick = e => {\n    e.preventDefault();\n    history.push('/login');\n  };\n\n  const handleClickImg = async e => {\n    e.preventDefault();\n    const files = new FormData();\n    files.append('file', img);\n    await axios.post('http://localhost:4000/', files, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    }).then(res => {\n      console.log(res);\n    });\n  };\n\n  const handleDelete = async m => {\n    const image = m.image;\n    await axios.delete(`http://localhost:4000`, {\n      data: {\n        image\n      }\n    }).then(res => {\n      console.log(res);\n    });\n  };\n\n  return isloggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-p\",\n    children: [/*#__PURE__*/_jsxDEV(LogOut, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home-page-salute\",\n        children: [\"Welcome, \", userName, \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"img-container\",\n        children: downloadedImages.map(m => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: `http://localhost:4000/public/${m.image}`,\n              className: \"img-style\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(m),\n              children: \"delete me\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)]\n          }, m._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 23\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-form\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          encType: \"multipart/form-data\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \".jpeg\",\n            onChange: e => {\n              const file = e.target.files[0];\n              SetImg(file);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"upload-btn\",\n            onClick: e => handleClickImg(e),\n            children: \"Upload image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-page-register\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"name\",\n        value: name,\n        onChange: e => SetName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"john@gmail.com\",\n        value: email,\n        onChange: e => SetEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        value: password,\n        onChange: e => SetPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => handleSubmit(e),\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 14\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"login-p\",\n      children: [\"Alread have an account\", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => handleClick(e),\n        className: \"login-btn\",\n        children: \"login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 56\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 8\n  }, this);\n}\n\n_s(Home, \"oGPKYKkWQDJuhFSqtPbDboe0BnU=\", false, function () {\n  return [useSelector, useHistory, useDispatch];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/macbookair/Desktop/new-login-form/my-app/src/components/home.js"],"names":["React","useState","useEffect","useHistory","axios","LogOut","useSelector","useDispatch","Home","isloggedIn","state","isLoggedIn","history","name","SetName","email","SetEmail","password","SetPassword","dataBackend","setDataBackend","test","setTest","userName","setUserName","img","SetImg","downloadedImages","SetDownloadedImages","dispatch","defaults","withCredentials","sendData","type","ifLoggedCheck","get","then","res","data","msg","message","children","error","console","log","handleSubmit","e","preventDefault","post","alert","handleClick","push","handleClickImg","files","FormData","append","headers","handleDelete","m","image","delete","map","_id","file","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport LogOut from './logout'\nimport { useSelector, useDispatch } from 'react-redux'\n\n\n\nexport default function Home(){\n  const isloggedIn = useSelector(state => state.isLoggedIn)\n  const history = useHistory()\n  const [name, SetName] = useState(\"\")\n  const [email, SetEmail] = useState(\"\")\n  const [password, SetPassword] = useState(\"\")\n  const [dataBackend, setDataBackend] = useState(\"\")\n  const [test, setTest] = useState(false)\n  const [userName, setUserName] = useState('')\n  const [img, SetImg] = useState(null)\n  const [downloadedImages, SetDownloadedImages] = useState([])\n  const dispatch = useDispatch()\n\n  axios.defaults.withCredentials = true\n\n  const sendData = () => {\n    return {\n      type: 'logged in'\n    }\n  }\n\n  useEffect(() => {\n\n      const ifLoggedCheck = async () => {\n        try {\n          await axios.get('http://localhost:4000').then(res => {\n            if(res.data.msg === 'logged in'){\n            // setTest(test => !test)\n              dispatch(sendData())\n              setUserName(res.data.name)\n              SetDownloadedImages(res.data.message[0].children)\n            }else{\n             /// setTest(test => !test)\n            dispatch(() => {\n              return {\n                type: 'not logged in'\n              }\n            })\n              setUserName(res.data.name)\n            }\n        })\n        } catch (error) {\n          console.log(error)\n        }}\n        ifLoggedCheck() \n  })\n\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    try {\n      await axios.post('http://localhost:4000',{\n      name,\n      email,\n      password\n    }).then(res => {\n      if(res.data.msg === 'this email is already used!'){\n        alert('This email is already used!')\n        return\n      }\n      setDataBackend(res.data.msg)\n      setUserName(res.data.userName)\n      setTest(test => !test)\n     dispatch(sendData())\n    })\n    } catch (error) {\n      console.log(error)\n    }\n    \n  \n   \n    \n  }\n  const handleClick = (e) => {\n    e.preventDefault()\n    history.push('/login')\n  }\n  const handleClickImg = async (e) => {\n    e.preventDefault()\n    const files = new FormData()\n    files.append('file', img)\n  await  axios.post('http://localhost:4000/',\n      files, {\n        headers: {\n           'content-type': 'multipart/form-data'\n        }\n     }\n    ).then(res => {\n      console.log(res)\n    })\n  }\n  const handleDelete = async (m) => {\n   const image = m.image\n   await axios.delete(`http://localhost:4000`, {data: {image}}).then(res => {\n      console.log(res);\n      \n    })\n  }\n  \n\n    return (\n      isloggedIn ? (\n        <div className=\"h-p\">\n          <LogOut />\n          <div className=\"home-page\">\n          <div className=\"home-page-salute\">\n            Welcome, {userName}! \n          </div>\n          <div className=\"img-container\">\n           {downloadedImages.map((m) => {\n              return (<div key={m._id}>\n              <img src={`http://localhost:4000/public/${m.image}`} className=\"img-style\"  />\n              <button onClick={() => handleDelete(m)} >delete me</button>\n              </div>)\n           })}\n          </div>\n          <div className=\"upload-form\">\n          <form encType=\"multipart/form-data\" > \n            <input type=\"file\" accept=\".jpeg\" onChange={(e) => {\n              const file = e.target.files[0]\n              SetImg(file)\n            }} />\n            <button className=\"upload-btn\" onClick={(e) => handleClickImg(e)}>Upload image</button>\n          </form>\n          </div>\n        </div>\n        </div>\n        \n      )\n       :\n     ( <div className=\"home-page-register\">\n          <form className=\"form\">\n             <label>Name</label>\n             <input type=\"text\" placeholder=\"name\" value={name} onChange={(e) => SetName(e.target.value)}/>\n             <label>Email</label>\n             <input type=\"text\" placeholder=\"john@gmail.com\" value={email} onChange={(e)=> SetEmail(e.target.value)}/>\n             <label>Password</label>\n             <input type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => SetPassword(e.target.value)}/>\n             <button onClick={(e) => handleSubmit(e)} >Register</button>\n          </form>\n          <p className=\"login-p\">Alread have an account<button onClick={(e) => handleClick(e)} className=\"login-btn\">login</button></p>\n      </div>\n     )\n    )\n}"]},"metadata":{},"sourceType":"module"}